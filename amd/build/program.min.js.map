{"version":3,"sources":["../src/program.js"],"names":["define","config","$","init","localStorage","setItem","on","e","preventDefault","sessionId","attr","span","find","wwwRoot","wwwroot","ajax","method","url","data","session","noredirect","dataType","success","toggleClass","error","hasClass","getItem","location","hash","reload"],"mappings":"AACAA,OAAM,6BAAC,CAAC,aAAD,CAAgB,QAAhB,CAAD,CAA4B,SAAUC,CAAV,CAAkBC,CAAlB,CAAqB,CACnD,MAAO,CACHC,IAAI,CAAE,eAAY,CACdC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAwC,OAAxC,EACAH,CAAC,CAAC,MAAD,CAAD,CAAUI,EAAV,CAAa,OAAb,CAAsB,cAAtB,CAAsC,SAAUC,CAAV,CAAa,CAC/CA,CAAC,CAACC,cAAF,GAD+C,GAE3CC,CAAAA,CAAS,CAAGP,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,gBAAb,CAF+B,CAG3CC,CAAI,CAAGT,CAAC,CAAC,IAAD,CAAD,CAAQU,IAAR,CAAa,MAAb,CAHoC,CAI3CC,CAAO,CAAGZ,CAAM,CAACa,OAAP,CAAiB,qCAJgB,CAW/CZ,CAAC,CAACa,IAAF,CAAO,CACHC,MAAM,CAAE,KADL,CAEHC,GAAG,CAAEJ,CAFF,CAGHK,IAAI,CARG,CACPC,OAAO,CAAEV,CADF,CAEPW,UAAU,CAAE,CAFL,CAKJ,CAIHC,QAAQ,CAAG,MAJR,CAKHC,OAAO,CAAE,kBAAW,CAChBX,CAAI,CAACY,WAAL,CAAiB,iBAAjB,EACAnB,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAwC,MAAxC,CACH,CARE,CASHmB,KAAK,CAAE,gBAAW,CACjB,CAVE,CAAP,CAYH,CAvBD,EAwBAtB,CAAC,CAAC,aAAD,CAAD,CAAiBI,EAAjB,CAAoB,aAApB,CAAmC,UAAW,CAC1C,GAAIJ,CAAC,CAAC,IAAD,CAAD,CAAQuB,QAAR,CAAiB,aAAjB,CAAJ,CAAqC,CACjC,GAAgD,MAA3C,EAAArB,YAAY,CAACsB,OAAb,CAAqB,iBAArB,CAAL,CAAyD,CACrDC,QAAQ,CAACC,IAAT,CAAgB1B,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,MAAb,CAAhB,CACAiB,QAAQ,CAACE,MAAT,EACH,CACJ,CACJ,CAPD,CAQH,CAnCE,CAqCV,CAtCK,CAAN","sourcesContent":["\ndefine(['core/config', 'jquery'], function (config, $) {\n    return {\n        init: function () {\n            localStorage.setItem('needesreloading', 'false');\n            $('body').on('click', '.star-button', function (e) {\n                e.preventDefault();\n                var sessionId = $(this).attr('data-sessionid');\n                var span = $(this).find(\"span\");\n                var wwwRoot = config.wwwroot + \"/blocks/mootprogram/starsession.php\";\n\n                var args = {\n                    session: sessionId,\n                    noredirect: 1\n                };\n\n                $.ajax({\n                    method: \"GET\",\n                    url: wwwRoot,\n                    data: args,\n                    dataType : \"JSON\",\n                    success: function() {\n                        span.toggleClass('session-starred');\n                        localStorage.setItem('needesreloading', 'true');\n                    },\n                    error: function() {\n                    }\n                });\n            });\n            $('.nav-tabs a').on('show.bs.tab', function() {\n                if ($(this).hasClass('starpagetab')) {\n                    if ((localStorage.getItem('needesreloading') == 'true')) {\n                        location.hash = $(this).attr('href');\n                        location.reload();\n                    }\n                }\n            });\n        }\n    };\n});"],"file":"program.min.js"}